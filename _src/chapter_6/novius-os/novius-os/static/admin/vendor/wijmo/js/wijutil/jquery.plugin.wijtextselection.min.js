(function(e){"use strict";e.fn.extend({wijtextselection:function(){var t,n,r=this[0],i=this.val();if(arguments.length===0){var s,o,u,a;if(e.browser.msie&&e.browser.version<9)try{var f=document.selection;r.tagName.toLowerCase()!="textarea"?(s=f.createRange().duplicate(),s.moveEnd("character",i.length),u=s.text===""?i.length:i.lastIndexOf(s.text),s=f.createRange().duplicate(),s.moveStart("character",-i.length),a=s.text.length):(s=f.createRange(),o=s.duplicate(),o.moveToElementText(r),o.setEndPoint("EndToEnd",s),u=o.text.length-s.text.length,a=u+s.text.length)}catch(a){}else u=r.selectionStart,a=r.selectionEnd;var l=i.substring(u,a);return{start:u,end:a,text:l,replace:function(e){return i.substring(0,u)+e+i.substring(a,i.length)}}}if(arguments.length===1){if(typeof arguments[0]=="object"&&typeof arguments[0].start=="number"&&typeof arguments[0].end=="number")t=arguments[0].start,n=arguments[0].end;else if(typeof arguments[0]=="string")(t=i.indexOf(arguments[0]))>-1&&(n=t+arguments[0].length);else if(Object.prototype.toString.call(arguments[0])==="[object RegExp]"){var c=arguments[0].exec(i);c!=null&&(t=c.index,n=t+c[0].length)}}else arguments.length===2&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"&&(t=arguments[0],n=arguments[1]);typeof t=="undefined"&&(t=0,n=i.length);if(e.browser.msie){var h=r.createTextRange();h.collapse(!0),h.moveStart("character",t),h.moveEnd("character",n-t),h.select()}else r.selectionStart=t,r.selectionEnd=n}})})(jQuery);