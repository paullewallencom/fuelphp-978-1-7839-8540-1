(function(){tinymce.PluginManager.requireLangPack("nosstyleselect");tinymce.create("tinymce.plugins.NosStyleSelectPlugin",{init:function(b,c){var a=this;a.editor=b;a.nosstyleselect_formats=b.getParam("nosstyleselect_formats",[{block:"p",title:"nosstyleselect.paragraph"},{block:"address",title:"nosstyleselect.address"},{block:"pre",title:"nosstyleselect.pre"},{block:"h1",title:"nosstyleselect.h1"},{block:"h2",title:"nosstyleselect.h2"},{block:"h3",title:"nosstyleselect.h3"},{block:"h4",title:"nosstyleselect.h4"},{block:"h5",title:"nosstyleselect.h5"},{block:"h6",title:"nosstyleselect.h6"},{block:"div",title:"nosstyleselect.div"},{block:"blockquote",title:"nosstyleselect.blockquote"},{block:"code",title:"nosstyleselect.code"},{block:"dt",title:"nosstyleselect.dt"},{block:"dd",title:"nosstyleselect.dd"},{block:"samp",title:"nosstyleselect.samp"}]);b.onNodeChange.add(function(f,d,i,g,e){var h;if(h=d.get("nosstyleselect")){if(!h.isMenuRendered){h.renderMenu();h.isMenuRendered=true}formatNames=[];tinymce.each(h.items,function(j){formatNames.push(j.value)});matches=f.formatter.matchAll(formatNames);h.select(matches[0]);tinymce.each(matches,function(k,j){if(j>0){h.mark(k)}})}})},createControl:function(g,b){var d=this,c=d.editor,e;if(g==="nosstyleselect"){function f(n,k){var i,j,m=n.dom,h="",l,p;previewStyles=n.settings.preview_styles;if(previewStyles===false){return""}if(!previewStyles){previewStyles="font-family font-size font-weight text-decoration text-transform color background-color"}function o(q){return q.replace(/%(\w+)/g,"")}i=k.block||k.inline||"span";j=m.create(i);tinymce.each(k.styles,function(r,q){r=o(r);if(r){m.setStyle(j,q,r)}});tinymce.each(k.attributes,function(r,q){r=o(r);if(r){m.setAttrib(j,q,r)}});tinymce.each(k.classes,function(q){q=o(q);if(!m.hasClass(j,q)){m.addClass(j,q)}});m.setStyles(j,{position:"absolute",left:-65535});n.getBody().appendChild(j);l=m.getStyle(n.getBody(),"fontSize",true);l=/px$/.test(l)?parseInt(l,10):0;tinymce.each(previewStyles.split(" "),function(q){var r=m.getStyle(j,q,true);if(q=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(r)){r=m.getStyle(n.getBody(),q,true);if(m.toHex(r).toLowerCase()=="#ffffff"){return}}if(q=="font-size"){if(/em|%$/.test(r)){if(l===0){return}r=parseFloat(r,10)/(/%$/.test(r)?100:1);r=(r*l)+"px"}}h+=q+":"+r+";"});m.remove(j);return h}e=b.createListBox("nosstyleselect",{title:"nosstyleselect.style_select",onselect:function(j){var k,h=[],i;tinymce.each(e.items,function(l){h.push(l.value)});c.focus();c.undoManager.add();k=c.formatter.matchAll(h);tinymce.each(k,function(l){if(!j||l==j){if(l){c.formatter.remove(l)}i=true}});if(!i){c.formatter.apply(j)}c.undoManager.add();c.nodeChanged();return false}});var a=d.nosstyleselect_formats;c.onPreInit.add(function(){var h=0;tinymce.each(a,function(i){var j,k=0;tinymce.each(i,function(){k++});if(k>1){j=i.name=i.name||"style_"+(h++);c.formatter.register(j,i);e.add(i.title,j,{style:function(){return f(c,i)}})}else{e.add(i.title)}})});return e}return null}});tinymce.PluginManager.add("nosstyleselect",tinymce.plugins.NosStyleSelectPlugin)})();